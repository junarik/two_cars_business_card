<section id="contact-us" class="bg-black">
    <div
        class="gsapAnimationLast container mx-auto w-full h-auto min-h-[580px] flex flex-col items-center justify-center px-4 sm:px-8 md:px-16 lg:h-[580px]">
        @if (ticketStatus == 'NOTSENT') {
        <div class="flex flex-col sm:flex-row gap-3 mx-auto text-center">
            <span class="text-5xl text-white font-extrabold">Залиште</span>
            <span class="text-5xl text-[#3EF8F5] font-extrabold">заявку</span>
        </div>
        <h4 class="text-base md:text-xl my-4 text-white text-center">
            Залиште свої контактні дані, і ми безкоштовно підберемо авто під ваші вимоги та бюджет
        </h4>

        <form class="flex flex-col w-full sm:w-2/3 md:w-[40vw] xl:w-2/5" [formGroup]="contactUsForm">
            <!-- Name field  -->
            <label class="text-white" for="name">Ім'я</label>
            <input
                class="w-full rounded-md py-3 px-4 my-2 text-gray-100 bg-gray-800 text-sm border border-cyan-500 focus:drop-shadow-[0_0_8px_#3ef8f5] transition-all outline-none"
                placeholder="Іван" id="name" type="text" formControlName="name">
            <div class="text-red-500" [@errorAnimation]
                *ngIf="nameControl && nameControl.errors?.['required'] && (nameControl.touched || nameControl.dirty)">
                Ім'я не може бути пустим
            </div>
            <div class="text-red-500" [@errorAnimation]
                *ngIf="nameControl && (nameControl.errors?.['minlength'] || nameControl.errors?.['maxlength']) && (nameControl.touched || nameControl.dirty)">
                Ім'я не може бути коротшим за 2 символи та довшим за 32
            </div>

            <!-- Phone number field  -->
            <label class="text-white" for="phoneNumber">Номер телефону</label>
            <input
                class="w-full rounded-md py-3 px-4 my-2 text-gray-100 bg-gray-800 text-sm border border-cyan-500 focus:drop-shadow-[0_0_8px_#3ef8f5] transition-all outline-none"
                placeholder="+380689999999" id="phoneNumber" type="text" formControlName="phoneNumber">

            <div class="text-red-500" [@errorAnimation]
                *ngIf="phoneControl && phoneControl.errors?.['required'] && (phoneControl.touched || phoneControl.dirty)">
                Введіть номер телефону
            </div>
        </form>

        <!-- Submit button -->
        <div class="mx-auto">
            <button (click)="onTouchStart($event)"
                class="text-[#3EF8F5] font-semibold w-40 sm:w-48 md:w-56 bg mt-4 h-10 border-2 border-cyan-500 rounded-full cursor-pointer">
                Відправити
            </button>
        </div>
        }
        <!-- When ticket is being sent  -->
        @if (ticketStatus == 'PENDING') {
        <div class="flex items-center justify-center flex-col gap-4">
            <div class="inline-block h-20 w-20 animate-spin rounded-full border-4 border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-[#3ef8f5]"
                role="status">
                <span
                    class="!absolute!-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"></span>
            </div>
            <span class="text-white text-center text-4xl">Надсилаємо вашу заявку...</span>
        </div>

        }
    </div>
</section>